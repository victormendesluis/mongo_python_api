version: '1.2'

services:
  mongo:
    images: mongo:latest
    ports:
      - "27017:27017"
    environment:
      - MONGO_INITDB_USERNAME=root
      - MONGO_INITDB_PASSWORD=example
      - MONGO_INTDB_DATABASE=testdb
    api:
    build: api/.
    ports:
      - "8086:8086"
    environment:
      - PORT=8086
    develop:
      watch:
        - action: sync
        - path: ./src
        - target: /usr/src/app

volumes:
  mongo_database:
